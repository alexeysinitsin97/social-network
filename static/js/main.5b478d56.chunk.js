(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{123:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(27),s=n(3),i="ADD-MESSAGE",o={dialogsData:[{name:"Alex",id:"1"},{name:"Ksenya",id:"2"},{name:"Kirill",id:"3"}],messageData:[{message:"Hey!"},{message:"What are you doing?!!"},{message:"Visited 21.07.2021!"}],newMessageBody:""},c=function(e){return{type:i,newMessageBody:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n={message:t.newMessageBody};return Object(s.a)(Object(s.a)({},e),{},{messageData:[].concat(Object(r.a)(e.messageData),[n])});default:return e}}},130:function(e,t,n){e.exports={fon:"ProfileInfo_fon__1UEFr"}},161:function(e,t,n){},24:function(e,t,n){e.exports={nav:"Nav_nav__3cun_",item:"Nav_item__2Nyyj",active:"Nav_active__1knn-"}},28:function(e,t,n){e.exports={friend__title:"SideBar_friend__title__EvlMe",content:"SideBar_content__zXXZR",friends:"SideBar_friends__2MKJk",item:"SideBar_item__3TUQY",icon:"SideBar_icon__2HSXg"}},289:function(e,t,n){e.exports={fon:"Profile_fon__-I1m6"}},290:function(e,t,n){e.exports={selected:"User_selected__TI46Q",pageNumber:"User_pageNumber__1j2pY"}},291:function(e,t,n){"use strict";n.r(t);n(93);var r=n(1),s=n.n(r),i=n(62),o=n.n(i),c=n(18),a=n(19),u=n(21),l=n(20),j=n(15),f=n(9),d=(n(161),n(3)),b=n(63),p=n.n(b),h=n(11),g=n(36),O=p.a.create({withCredentials:!0,headers:{"API-KEY":"f334255a-dfeb-4e31-9b84-fcca1ea831c6"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),m={me:function(){return O.get("auth/me").then((function(e){return e}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return O.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return O.delete("auth/login").then((function(e){return e.data}))}},v="SET_USER_DATA",x={login:null,email:null,userId:null,isAuth:!1},A=function(e,t,n,r){return{type:v,data:{login:e,email:t,userId:n,isAuth:r}}},P=function(){return function(e){return m.me().then((function(t){0===t.data.resultCode&&e(A(t.data.data.login,t.data.data.email,t.data.data.id,!0))}))}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(d.a)(Object(d.a)({},e),t.data);default:return e}},S=n(66),C=n.n(S),y=n(0),I=function(e){return Object(y.jsxs)("header",{className:C.a.header,children:[Object(y.jsx)("img",{className:C.a.header__icon,src:"https://e7.pngegg.com/pngimages/593/357/png-clipart-computer-icons-human-resources-human-capital-human-resource-miscellaneous-company.png",alt:"icon"}),Object(y.jsx)("div",{children:e.isAuth?Object(y.jsx)("button",{onClick:e.logout,children:"Logout"}):Object(y.jsx)(j.b,{to:"/Login",children:"Login"})})]})},N=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.authMe()}},{key:"render",value:function(){return Object(y.jsx)(I,Object(d.a)({},this.props))}}]),n}(s.a.Component),T=Object(h.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setUserAuthAC:A,authMe:P,logout:function(){return function(e){m.logout().then((function(t){0===t.resultCode&&e(A(null,null,null,!1))}))}}})(N),k=n(24),U=n.n(k),L=n(28),H=n.n(L),M=function(){return Object(y.jsxs)("div",{className:H.a.content,children:[Object(y.jsx)("div",{className:H.a.friend__title,children:"Friends"}),Object(y.jsxs)("div",{className:H.a.friends,children:[Object(y.jsxs)("div",{className:H.a.item,children:[Object(y.jsx)("span",{className:H.a.icon}),Object(y.jsx)("div",{children:"Alex"})]}),Object(y.jsxs)("div",{className:H.a.item,children:[Object(y.jsx)("span",{className:H.a.icon}),Object(y.jsx)("div",{children:"Timo"})]}),Object(y.jsxs)("div",{className:H.a.item,children:[Object(y.jsx)("span",{className:H.a.icon}),Object(y.jsx)("div",{children:"Glen"})]})]})]})},E=function(){return Object(y.jsx)("nav",{className:U.a.nav,children:Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:U.a.item,children:Object(y.jsx)(j.b,{to:"/Profile",activeClassName:U.a.active,children:"Profile"})}),Object(y.jsx)("div",{className:U.a.item,children:Object(y.jsx)(j.b,{to:"/Dialogs",activeClassName:U.a.active,children:"Message"})}),Object(y.jsx)("div",{className:U.a.item,children:Object(y.jsx)(j.b,{to:"/Users",activeClassName:U.a.active,children:"Users"})}),Object(y.jsx)("div",{className:U.a.item,children:Object(y.jsx)("a",{href:"#",children:"News"})}),Object(y.jsx)("div",{className:U.a.item,children:Object(y.jsx)("a",{href:"#",children:"Music"})}),Object(y.jsx)("div",{className:U.a.item,children:Object(y.jsx)("a",{href:"#",children:"Settings"})}),Object(y.jsx)(M,{})]})})},z=n(27),F={getProfile:function(e){return O.get("profile/".concat(e)).then((function(e){return e.data}))},getProfileStatus:function(e){return O.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return O.put("profile/status",{status:e}).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),O.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}},X="ADD-POST",D="SET_PROFILE",B="SET_PROFILE_STATUS",W="SET_PHOTO_SUCSSES",J={postData:[{message:"Hey how are you?",likeCount:11},{message:"Say some1",likeCount:121}],newPostText:"",profile:null,status:""},R=function(e){return{type:D,profile:e}},Z=function(e){return{type:B,status:e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(d.a)(Object(d.a)({},e),{},{profile:Object(d.a)(Object(d.a)({},e.profile),{},{photos:t.file})});case X:var n={id:5,likeCount:0,message:t.newPostText};return Object(d.a)(Object(d.a)({},e),{},{postData:[].concat(Object(z.a)(e.postData),[n]),newPostText:""});case D:return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case B:return Object(d.a)(Object(d.a)({},e),{},{status:t.status});default:return e}},Y=n(124),K=n(125),Q=n(38),V=n(87),G=n(90),_=n.n(G),$=function(e){return Object(y.jsxs)("div",{className:_.a.item,children:[Object(y.jsx)("img",{src:"https://i.pinimg.com/736x/2b/81/6b/2b816b41c523df39ae22caa38e1f6586--square.jpg",className:_.a.icon}),e.message]})},ee=Object(V.a)(20),te=Object(K.a)({form:"addPostForm"})((function(e){return Object(y.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(y.jsx)(Y.a,{component:Q.b,placeholder:"enter your text here",name:"newPostText",validate:[V.b,ee]}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{children:"Add post"})})]})})),ne=function(e){var t=e.posts.map((function(e){return Object(y.jsx)($,{message:e.message})}));return Object(y.jsxs)("div",{children:["My post",Object(y.jsx)(te,{onSubmit:function(t){var n=t.newPostText;e.onAddPost(n)}}),Object(y.jsx)("div",{children:"new post"}),t]})},re=Object(h.b)((function(e){return{newPostText:e.profilePage.newPostText,posts:e.profilePage.postData}}),(function(e){return{onAddPost:function(t){e(function(e){return{type:X,newPostText:e}}(t))}}}))(ne),se=n.p+"static/media/preloader.9431feb8.gif",ie=function(e){return Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:se})})},oe=n(130),ce=n.n(oe),ae=(s.a.Component,"data:image/png;base64,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"),ue=n(53),le=function(e){var t=Object(r.useState)(!1),n=Object(ue.a)(t,2),s=n[0],i=n[1],o=Object(r.useState)(e.status),c=Object(ue.a)(o,2),a=c[0],u=c[1];return Object(r.useEffect)((function(){u(e.status)}),[e.status]),Object(y.jsx)("div",{children:s?Object(y.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,value:a,onBlur:function(){i(!1),e.updateProfileStatus(a)}}):Object(y.jsx)("span",{onDoubleClick:function(){i(!0)},children:e.status||"empty status"})})},je=function(e){return e.profile?Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:"https://hdwallpaperim.com/wp-content/uploads/2017/08/31/158174-waterfall-Sun-sunlight-water.jpg",alt:"forest",className:ce.a.fon})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:e.profile.photos.large||e.profile.photos.small||ae})}),e.isOwner?Object(y.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}):null,Object(y.jsx)("div",{children:e.profile.fullName})]}),Object(y.jsx)("div",{children:Object(y.jsx)(le,{status:e.status,updateProfileStatus:e.updateProfileStatus})})]}):Object(y.jsx)(ie,{})},fe=(n(289),function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)(je,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profilePage.profile,status:e.profilePage.status,updateProfileStatus:e.updateProfileStatus}),Object(y.jsx)(re,{})]})}),de=n(65),be=n(10),pe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId)||this.props.history.push("/login"),this.props.setUserProfile(e),this.props.getUserProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){e.match.params.userId!=this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(y.jsx)(fe,Object(d.a)(Object(d.a)({},this.props),{},{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))}}]),n}(s.a.Component),he=Object(be.d)(Object(h.b)((function(e){return{profilePage:e.profilePage,userId:e.auth.userId}}),{setProfile:R,setUserProfile:function(e){return function(t){F.getProfile(e).then((function(e){t(R(e))}))}},getUserProfileStatus:function(e){return function(t){F.getProfileStatus(e).then((function(e){t(Z(e))}))}},updateProfileStatus:function(e){return function(t){F.updateStatus(e).then((function(n){0===n.resultCode&&t(Z(e))}))}},savePhoto:function(e){return function(t){F.savePhoto(e).then((function(e){0===e.resultCode&&t(function(e){return{type:W,file:e}}(e.data.photos))}))}}}),f.f,de.a)(pe),ge={getUsers:function(e,t){return O.get("users?totalCount&page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))}},Oe={doUnfollow:function(e){return O.delete("follow/".concat(e)).then((function(e){return e.data}))},doFollow:function(e){return O.post("follow/".concat(e)).then((function(e){return e.data}))}},me="FOLLOW",ve="UNFOLLOW",xe="SET_USERS",Ae="SET_CURRENT_PAGE",Pe="SET_TOTAL_COUNT",we="TOGGLE_IS_FETCHING",Se="TOGGLE_FOLLOWING",Ce={users:[],currentPage:"1",totalPages:"20",pageSize:"10",isFetching:!0,followingInProgress:!1,followingInUserId:[]},ye=function(e){return{type:me,userId:e}},Ie=function(e){return{type:ve,userId:e}},Ne=function(e){return{type:xe,users:e}},Te=function(e){return{type:we,isFetching:e}},ke=function(e){return{type:Pe,totalPages:e}},Ue=function(e,t){return{type:Se,followingInProgress:e,id:t}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(d.a)(Object(d.a)({},e),{},{users:Object(z.a)(e.users).map((function(e){return e.id===t.userId?Object(d.a)(Object(d.a)({},e),{},{followed:!0}):e}))});case ve:return Object(d.a)(Object(d.a)({},e),{},{users:Object(z.a)(e.users).map((function(e){return e.id===t.userId?Object(d.a)(Object(d.a)({},e),{},{followed:!1}):e}))});case xe:return Object(d.a)(Object(d.a)({},e),{},{users:Object(z.a)(t.users)});case Ae:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.currentPage});case Pe:return Object(d.a)(Object(d.a)({},e),{},{totalPages:t.totalPages});case we:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.isFetching});case Se:return Object(d.a)(Object(d.a)({},e),{},{followingInProgress:t.followingInProgress,followingInUserId:t.followingInProgress?[].concat(Object(z.a)(e.followingInUserId),[t.id]):Object(z.a)(e.followingInUserId.filter((function(e){return e!=t.id})))});default:return e}},He=function(e){return e.userPage.users},Me=function(e){return e.userPage.currentPage},Ee=function(e){return e.userPage.totalPages},ze=function(e){return e.userPage.pageSize},Fe=function(e){return e.userPage.isFetching},Xe=function(e){return e.userPage.followingInProgress},De=function(e){return e.userPage.followingInUserId},Be=(n(290),function(e){var t=e.u,n=e.props;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("span",{children:[Object(y.jsx)(j.b,{to:"/Profile/".concat(t.id),children:Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:null!=t.photos.small?t.photos.small:ae})})}),Object(y.jsx)("div",{children:t.followed?Object(y.jsx)("button",{disabled:n.followingInUserId.some((function(e){return e===t.id})),onClick:function(){n.unfollowing(t.id)},children:"unfollow"}):Object(y.jsx)("button",{disabled:n.followingInUserId.some((function(e){return e===t.id})),onClick:function(){n.following(t.id)},children:"follow"})})]}),Object(y.jsx)("span",{children:Object(y.jsxs)(j.b,{to:"/Profile/".concat(t.id),children:[Object(y.jsx)("div",{children:t.name}),Object(y.jsx)("div",{children:"u.loction.city"}),Object(y.jsx)("div",{children:"u.loction.country"})]})})]},t.id)}),We=n(42),Je=n.n(We),Re=function(e){for(var t=e.props,n=Math.ceil(t.totalPages/t.pageSize),s=[],i=1;i<n;i++)s.push(i);var o=Math.ceil(n/10),c=Object(r.useState)(1),a=Object(ue.a)(c,2),u=a[0],l=a[1],j=10*(u-1)+1,f=10*u;return Object(y.jsxs)("div",{className:Je.a.paginationItem,children:[u>1?Object(y.jsx)("button",{onClick:function(){return l(u-1)},children:"prev"}):null,Object(y.jsxs)("ul",{className:Je.a.Pagination,children:[" ",s=s.filter((function(e){return e>=j&&e<=f})).map((function(e){return Object(y.jsx)("li",{className:t.currentPage==e?"".concat(Je.a.pageNumber," + ").concat(Je.a.selected):Je.a.pageNumber,onClick:function(){t.onPageChanged(e)},children:e})}))]}),u<=o?Object(y.jsx)("button",{onClick:function(){return l(u+1)},children:"Next"}):null]})},Ze=function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)(Re,{props:e}),e.users.map((function(t){return Object(y.jsx)(Be,{u:t,props:e})}))]})},qe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.requestUsers(t,e.props.pageSize)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[this.props.isFetching?Object(y.jsx)(ie,{}):null,Object(y.jsx)(Ze,{totalPages:this.props.totalPages,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,currentPage:this.props.currentPage,toggleFollowingInProgress:this.props.toggleFollowingInProgress,followingInProgress:this.props.followingInProgress,followingInUserId:this.props.followingInUserId,following:this.props.following,unfollowing:this.props.unfollowing})]})}}]),n}(s.a.Component),Ye=Object(be.d)(de.a,Object(h.b)((function(e){return{users:He(e),currentPage:Me(e),totalPages:Ee(e),pageSize:ze(e),isFetching:Fe(e),followingInProgress:Xe(e),followingInUserId:De(e)}}),(function(e){return{follow:function(t){e(ye(t))},unfollow:function(t){e(Ie(t))},setUsers:function(t){e(Ne(t))},setCurrentPage:function(t){e(function(e){return{type:Ae,currentPage:e}}(t))},setTotalPages:function(t){e(ke(t))},toggleFetching:function(t){e(Te(t))},toggleFollowingInProgress:function(t,n){e(Ue(t,n))},requestUsers:function(t,n){e(function(e,t){return function(n){n(Te(!0)),ge.getUsers(e,t).then((function(e){n(Te(!1)),n(Ne(e.items)),n(ke(e.totalCount))}))}}(t,n))},following:function(t){e(function(e){return function(t){t(Ue(!0,e)),Oe.doFollow(e).then((function(n){0===n.resultCode&&(t(ye(e)),t(Ue(!1,e)))}))}}(t))},unfollowing:function(t){e(function(e){return function(t){t(Ue(!0,e)),Oe.doUnfollow(e).then((function(n){0===n.resultCode&&(t(Ie(e)),t(Ue(!1,e)))}))}}(t))}}})))(qe),Ke=n(50),Qe=n.n(Ke),Ve=Object(K.a)({form:"login"})((function(e){return Object(y.jsxs)("form",{onSubmit:e.handleSubmit(e.onSubmit),children:[Object(y.jsx)("div",{children:Object(y.jsx)(Y.a,{placeholder:"Email",component:Q.a,name:"email"})}),Object(y.jsx)("div",{children:Object(y.jsx)(Y.a,{placeholder:"Password",component:Q.a,name:"password"})}),e.error&&Object(y.jsx)("div",{className:Qe.a.formSummaryError,children:e.error}),Object(y.jsxs)("div",{children:[Object(y.jsx)(Y.a,{component:Q.a,type:"checkbox",name:"rememberMe"}),"Remember me"]}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{children:"Log in"})})]})})),Ge=Object(h.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(r){m.login(e,t,n).then((function(e){if(0===e.data.resultCode)r(P());else{console.log(e);var t=e.data.messages.length?e.data.messages:"Some Error";r(Object(g.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?(console.log(e),Object(y.jsx)(f.a,{to:"/Profile"})):Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Login"})," ",Object(y.jsx)(Ve,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),_e="INITIALIZED_SUCSESS",$e={initialized:!1},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(d.a)(Object(d.a)({},e),{},{initialized:!0});default:return e}},tt=s.a.lazy((function(){return n.e(3).then(n.bind(null,295))})),nt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.initializedSucsess()}},{key:"render",value:function(){return console.log(this.props),this.props.initialized?Object(y.jsx)(j.a,{children:Object(y.jsxs)("div",{className:"app-wrapper",children:[Object(y.jsx)(T,{}),Object(y.jsx)(E,{}),Object(y.jsxs)("div",{className:"app-wrapper-content",children:[Object(y.jsx)(f.b,{path:"/Dialogs",render:function(){return Object(y.jsx)(r.Suspense,{fallback:Object(y.jsx)(ie,{}),children:Object(y.jsx)(tt,{})})}}),Object(y.jsx)(f.b,{path:"/Profile/:userId?",component:function(){return Object(y.jsx)(he,{})}}),Object(y.jsx)(f.b,{path:"/Users",render:function(){return Object(y.jsx)(Ye,{})}}),Object(y.jsx)(f.b,{path:"/Login",render:function(){return Object(y.jsx)(Ge,{})}})]})]})}):Object(y.jsx)(ie,{})}}]),n}(s.a.Component),rt=Object(h.b)((function(e){return{initialized:e.app.initialized}}),{initializedSucsess:function(){return function(e){var t=e(P);Promise.all([t]).then((function(){e({type:_e})}))}}})(nt),st=n(123),it=n(131),ot=n(126),ct=Object(be.c)({profilePage:q,dialogsPage:st.b,userPage:Le,auth:w,form:ot.a,app:et}),at=Object(be.e)(ct,Object(be.a)(it.a));o.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(h.a,{store:at,children:Object(y.jsx)(rt,{})})}),document.getElementById("root"))},38:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(3),s=n(70),i=(n(1),n(50)),o=n.n(i),c=n(0),a=["input","meta"],u=["input","meta"],l=["input","meta"],j=function(e){e.input;var t=e.meta,n=Object(s.a)(e,a),r=t.touched&&t.error;return Object(c.jsxs)("div",{className:o.a.formControl+" "+(r?o.a.error:""),children:[Object(c.jsx)("div",{children:n.children}),Object(c.jsx)("div",{children:r&&Object(c.jsx)("span",{children:t.error})})]})},f=function(e){var t=e.input,n=(e.meta,Object(s.a)(e,u));return Object(c.jsxs)(j,Object(r.a)(Object(r.a)({},e),{},{children:[" ",Object(c.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))]}))},d=function(e){var t=e.input,n=(e.meta,Object(s.a)(e,l));return Object(c.jsxs)(j,Object(r.a)(Object(r.a)({},e),{},{children:[" ",Object(c.jsx)("input",Object(r.a)(Object(r.a)({},t),n))]}))}},42:function(e,t,n){e.exports={paginationItem:"Pagination_paginationItem__30Dix",Pagination:"Pagination_Pagination__1YImY",selected:"Pagination_selected__JGLOz"}},50:function(e,t,n){e.exports={formControl:"FormControl_formControl__2vDy7",error:"FormControl_error__7PgfV",formSummaryError:"FormControl_formSummaryError__2AT9x"}},65:function(e,t,n){"use strict";var r=n(3),s=n(18),i=n(19),o=n(21),c=n(20),a=n(1),u=n.n(a),l=n(9),j=n(11),f=n(0),d=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){var t=function(t){Object(o.a)(a,t);var n=Object(c.a)(a);function a(){return Object(s.a)(this,a),n.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(f.jsx)(e,Object(r.a)({},this.props)):Object(f.jsx)(l.a,{to:"/login"})}}]),a}(u.a.Component);return Object(j.b)(d)(t)}},66:function(e,t,n){e.exports={header__icon:"Header_header__icon__3dKHX",header:"Header_header__2iuDS"}},87:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var r=function(e){if(!e)return"Field is required"},s=function(e){return function(t){return t.length>e?"Max length ".concat(e):void 0}}},90:function(e,t,n){e.exports={icon:"Posts_icon__36mC-"}},93:function(e,t,n){}},[[291,1,2]]]);
//# sourceMappingURL=main.5b478d56.chunk.js.map